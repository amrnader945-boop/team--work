<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AMR LAB â€” Patient Report</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">

<style>
body {
    font-family: Poppins, Arial;
    margin: 0;
    background: #f5f7fa;
}

.container {
    width: 90%;
    margin: auto;
    padding: 20px;
}

.box {
    background: white;
    padding: 25px;
    border-radius: 16px;
    margin-bottom: 25px;
    box-shadow: 0 4px 25px rgba(0,0,0,0.1);
}

h2 {
    margin-top: 0;
    color: #003366;
}

.label {
    font-weight: bold;
}

.result-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
}

.result-table th, .result-table td {
    padding: 10px;
    border-bottom: 1px solid #ddd;
}

.whatsapp {
    background: #25D366;
    color: white;
    border: none;
    padding: 12px 22px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 16px;
    font-weight: bold;
}
</style>
</head>

<body>

<div class="container">

    <div class="box">
        <h2>ðŸ§ª AMR LAB</h2>
        <p>Patient Laboratory Report</p>
    </div>

    <div class="box">
        <h3>Patient Information</h3>
        <p><span class="label">ID:</span> <span id="p-id">--</span></p>
        <p><span class="label">Name:</span> <span id="p-name">--</span></p>
        <p><span class="label">Age:</span> <span id="p-age">--</span></p>
        <p><span class="label">Gender:</span> <span id="p-gender">--</span></p>
        <p><span class="label">Phone:</span> <span id="p-phone">--</span></p>
        <p><span class="label">Email:</span> <span id="p-email">--</span></p>
    </div>

    <div class="box">
        <h3>Test Results</h3>
        <table class="result-table">
            <tr>
                <th>Test</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>ABS</td>
                <td id="r-abs">--</td>
            </tr>
            <tr>
                <td>CONC</td>
                <td id="r-conc">--</td>
            </tr>
            <tr>
                <td>TRANS</td>
                <td id="r-trans">--</td>
            </tr>
        </table>
    </div>

    <button class="whatsapp" id="sendWA">ðŸ“„ Send via WhatsApp</button>

</div>

<script>
    // load patient data
    const patient = JSON.parse(localStorage.getItem("patientData"));

    if (!patient) {
        alert("No patient data found!");
        window.location.href = "index.html";
    }

    // fill patient info
    document.getElementById("p-id").textContent = patient.id;
    document.getElementById("p-name").textContent = patient.name;
    document.getElementById("p-age").textContent = patient.age;
    document.getElementById("p-gender").textContent = patient.gender;
    document.getElementById("p-phone").textContent = patient.phone;
    document.getElementById("p-email").textContent = patient.email;

    // fill results
    document.getElementById("r-abs").textContent = patient.ABS;
    document.getElementById("r-conc").textContent = patient.CONC;
    document.getElementById("r-trans").textContent = patient.TRANS;

    // WhatsApp button
    document.getElementById("sendWA").addEventListener("click", () => {
        const msg =
            `AMR LAB REPORT\n\n` +
            `ID: ${patient.id}\n` +
            `Name: ${patient.name}\n` +
            `Age: ${patient.age}\n` +
            `Gender: ${patient.gender}\n\n` +
            `ABS: ${patient.ABS}\n` +
            `CONC: ${patient.CONC}\n` +
            `TRANS: ${patient.TRANS}`;

        window.open(`https://wa.me/?text=${encodeURIComponent(msg)}`);
    });
</script>

</body>
</html>
